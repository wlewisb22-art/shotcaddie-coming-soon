<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ShotCaddie Simulation</title>
<style>
body, html {
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  background:#0a0a0a;
  font-family: Arial, sans-serif;
  color: #fff;
}

h1 {
  margin-top: 20px;
  text-align:center;
  text-shadow: 0 0 20px #00ffe0;
}

.shotcaddie-container {
  position: relative;
  width: 600px;
  height: 600px;
  margin-top: 40px;
  background: #111;
  border-radius: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
}

svg {
  width: 100%;
  height: 100%;
}

.bottle {
  fill: #888;
  stroke: #555;
  stroke-width: 2;
}

.spout {
  fill: #ffea00;
  stroke: #fff;
  stroke-width: 2;
}

.stream {
  fill:none;
  stroke-width: 8;
  stroke-linecap: round;
  stroke-opacity: 0.7;
  stroke: url(#flowGradient);
}

</style>
</head>
<body>

<h1>SHOTCADDIE Simulation</h1>

<div class="shotcaddie-container">
<svg viewBox="0 0 600 600">
  <!-- Gradient for flowing liquid -->
  <defs>
    <linearGradient id="flowGradient" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#00ffe0"/>
      <stop offset="50%" stop-color="#00ffae"/>
      <stop offset="100%" stop-color="#00ffe0"/>
      <animateTransform attributeName="gradientTransform" type="translate" from="0 0" to="0 1" dur="1.2s" repeatCount="indefinite"/>
    </linearGradient>
  </defs>

  <!-- Bottles 4x4 -->
  <g id="bottles"></g>

  <!-- Tubes -->
  <g id="tubes"></g>

  <!-- Central Spout -->
  <circle class="spout" cx="300" cy="500" r="15"/>
</svg>
</div>

<script>
const svgNS = "http://www.w3.org/2000/svg";
const bottlesGroup = document.getElementById("bottles");
const tubesGroup = document.getElementById("tubes");

// Bottle layout
const rows = 4;
const cols = 4;
const bottleWidth = 40;
const bottleHeight = 100;
const spacingX = 120;
const spacingY = 100;
const startX = 80;
const startY = 50;
const spoutX = 300;
const spoutY = 500;

// Create bottles
const bottles = [];
for(let r=0; r<rows; r++){
  for(let c=0; c<cols; c++){
    const x = startX + c*spacingX;
    const y = startY + r*spacingY;
    const bottle = document.createElementNS(svgNS,"rect");
    bottle.setAttribute("x", x);
    bottle.setAttribute("y", y);
    bottle.setAttribute("width", bottleWidth);
    bottle.setAttribute("height", bottleHeight);
    bottle.setAttribute("class","bottle");
    bottlesGroup.appendChild(bottle);
    bottles.push({x: x+bottleWidth/2, y: y+bottleHeight}); // bottom center of bottle
  }
}

// Create tubes
bottles.forEach((bottle,i)=>{
  const path = document.createElementNS(svgNS,"path");
  const cp1x = bottle.x;
  const cp1y = bottle.y + 40 + Math.random()*20; // random wobble
  const cp2x = spoutX + (Math.random()*40-20);
  const cp2y = spoutY - 40;
  const d = `M${bottle.x},${bottle.y} C${cp1x},${cp1y} ${cp2x},${cp2y} ${spoutX},${spoutY}`;
  path.setAttribute("d", d);
  path.setAttribute("class","stream");
  tubesGroup.appendChild(path);
});

// Animate streams (stroke dash)
const streams = document.querySelectorAll(".stream");
streams.forEach(s=>{
  s.setAttribute("stroke-dasharray","20 80");
  s.setAttribute("stroke-dashoffset","100");
});

function animateStreams(){
  streams.forEach(s=>{
    let offset = parseFloat(s.getAttribute("stroke-dashoffset")) || 100;
    offset -= 4;
    if(offset < 0) offset = 100;
    s.setAttribute("stroke-dashoffset", offset);
  });
  requestAnimationFrame(animateStreams);
}
animateStreams();

</script>
</body>
</html>
